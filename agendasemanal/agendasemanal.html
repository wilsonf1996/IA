<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agenda Semanal</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            text-align: center;
            margin: 20px;
        }

        table {
            width: 100%;
            margin: 20px auto;
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
            white-space: nowrap; /* Impede que o texto seja quebrado */
        }

        th {
            background-color: #f2f2f2;
        }

        #calendar {
            max-width: 1000px;
            margin: 20px auto;
        }

        .editable-cell {
            cursor: pointer;
        }

        .selected-week {
            background-color: lightblue;
        }
    </style>
    <!-- Adicione no cabeçalho para incluir o FullCalendar e o Firebase -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css" />
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.js"></script>

    <!-- Carregue a biblioteca do Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
</head>

<body>
    <h1>Agenda Semanal</h1>

    <div id="calendar"></div>

    <table id="weekly-schedule">
        <thead>
            <tr>
                <th>Dia da Semana</th>
                <th>Data</th>
                <th class="editable-cell">0:00</th>
                <th class="editable-cell">1:00</th>
                <th class="editable-cell">2:00</th>
                <th class="editable-cell">3:00</th>
                <th class="editable-cell">4:00</th>
                <th class="editable-cell">5:00</th>
                <th class="editable-cell">6:00</th>
                <th class="editable-cell">7:00</th>
                <th class="editable-cell">8:00</th>
                <th class="editable-cell">9:00</th>
                <th class="editable-cell">10:00</th>
                <th class="editable-cell">11:00</th>
                <th class="editable-cell">12:00</th>
                <th class="editable-cell">13:00</th>
                <th class="editable-cell">14:00</th>
                <th class="editable-cell">15:00</th>
                <th class="editable-cell">16:00</th>
                <th class="editable-cell">17:00</th>
                <th class="editable-cell">18:00</th>
                <th class="editable-cell">19:00</th>
                <th class="editable-cell">20:00</th>
                <th class="editable-cell">21:00</th>
                <th class="editable-cell">22:00</th>
                <th class="editable-cell">23:00</th>
            </tr>
            <tr>
                <th></th>
                <th></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
                <th class="editable-cell"></th>
            </tr>
        </thead>
        <tbody id="weekly-schedule-body"></tbody>
    </table>

    <!-- Script do seu Firebase -->
    <script>
        // Sua configuração do Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyAIp-rFuZZsBCNVJ3pSge4TE-XUuwYygrI",
            authDomain: "agenda-6accc.firebaseapp.com",
            databaseURL: "https://agenda-6accc-default-rtdb.firebaseio.com",
            projectId: "agenda-6accc",
            storageBucket: "agenda-6accc.appspot.com",
            messagingSenderId: "794262176773",
            appId: "1:794262176773:web:c3fa03f04d870bdcdc086c",
            measurementId: "G-WVYXHMRJ11"
        };

        // Inicialização do Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Função para inicializar a tabela
        function initWeeklySchedule() {
            const tableBody = document.getElementById('weekly-schedule-body');

            // Adicione a lógica de sincronização com o Firebase aqui

            // Exemplo de preenchimento da tabela
            const daysOfWeek = ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'];
            const currentDate = new Date(); // Data atual para exemplo

            daysOfWeek.forEach((day, index) => {
                const row = tableBody.insertRow();
                const cellDayOfWeek = row.insertCell(0);
                const cellDate = row.insertCell(1);

                cellDayOfWeek.textContent = day;
                cellDate.textContent = formatDate(addDays(currentDate, index));
            });

            // Exemplo: Preencha algumas células com dados existentes
            // Nota: Adapte isso para o seu caso de uso real
            for (let i = 0; i < daysOfWeek.length; i++) {
                for (let j = 2; j <= 25; j++) { // Comece da coluna 2 para as horas
                    const cell = tableBody.rows[i].insertCell(j);
                    cell.classList.add('editable-cell');
                    cell.contentEditable = true;
                    cell.textContent = `Atividade ${i + 1}-${j - 1}`;
                }
            }
        }

        // Função auxiliar para adicionar dias a uma data
        function addDays(date, days) {
            const result = new Date(date);
            result.setDate(result.getDate() + days);
            return result;
        }

        // Função auxiliar para formatar a data como DD/MM
        function formatDate(date) {
            const day = date.getDate().toString().padStart(2, '0');
            const month = (date.getMonth() + 1).toString().padStart(2, '0');
            return `${day}/${month}`;
        }

        // Inicialize a tabela ao carregar a página
        initWeeklySchedule();
    </script>
</body>

</html>
